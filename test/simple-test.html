
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>èµ·åæ¨¡å—ç®€å•æµ‹è¯•</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background-color: #d4edda; color: #155724; }
        .error { background-color: #f8d7da; color: #721c24; }
        .info { background-color: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>ğŸ”® èµ·åè®¡ç®—æ¨¡å—æµ‹è¯•</h1>
    <div id="test-results"></div>
    
    <script src="../js/name-calculator.js"></script>
    <script>
        function runTests() {
            const results = document.getElementById('test-results');
            const nameCalculator = new NameCalculator();
            
            function addResult(message, type = 'info') {
                const div = document.createElement('div');
                div.className = 'test-result ' + type;
                div.textContent = message;
                results.appendChild(div);
            }
            
            addResult('å¼€å§‹æµ‹è¯•èµ·åè®¡ç®—æ¨¡å—...', 'info');
            
            // æµ‹è¯•1: ç¬”ç”»æ•°è®¡ç®—
            try {
                const strokes = nameCalculator.getCharStrokes('ç‹');
                if (strokes === 4) {
                    addResult('âœ… ç¬”ç”»æ•°è®¡ç®—æµ‹è¯•é€šè¿‡: ç‹å­—4ç”»', 'success');
                } else {
                    addResult('âŒ ç¬”ç”»æ•°è®¡ç®—æµ‹è¯•å¤±è´¥: ç‹å­—åº”ä¸º4ç”»ï¼Œå®é™…' + strokes + 'ç”»', 'error');
                }
            } catch (error) {
                addResult('âŒ ç¬”ç”»æ•°è®¡ç®—æµ‹è¯•å‡ºé”™: ' + error.message, 'error');
            }
            
            // æµ‹è¯•2: äº”è¡Œå±æ€§
            try {
                const wuxing = nameCalculator.getCharWuXing('æ—');
                if (wuxing === 'æœ¨') {
                    addResult('âœ… äº”è¡Œå±æ€§æµ‹è¯•é€šè¿‡: æ—å­—å±æœ¨', 'success');
                } else {
                    addResult('âŒ äº”è¡Œå±æ€§æµ‹è¯•å¤±è´¥: æ—å­—åº”å±æœ¨ï¼Œå®é™…å±' + wuxing, 'error');
                }
            } catch (error) {
                addResult('âŒ äº”è¡Œå±æ€§æµ‹è¯•å‡ºé”™: ' + error.message, 'error');
            }
            
            // æµ‹è¯•3: äº”æ ¼æ•°ç†
            try {
                const wuge = nameCalculator.calculateWuGe('ç‹', 'å°æ˜');
                if (wuge.tianGe && wuge.renGe && wuge.diGe && wuge.waiGe && wuge.zongGe) {
                    addResult('âœ… äº”æ ¼æ•°ç†æµ‹è¯•é€šè¿‡: å¤©' + wuge.tianGe + ' äºº' + wuge.renGe + ' åœ°' + wuge.diGe + ' å¤–' + wuge.waiGe + ' æ€»' + wuge.zongGe, 'success');
                } else {
                    addResult('âŒ äº”æ ¼æ•°ç†æµ‹è¯•å¤±è´¥: äº”æ ¼æ•°æ®ä¸å®Œæ•´', 'error');
                }
            } catch (error) {
                addResult('âŒ äº”æ ¼æ•°ç†æµ‹è¯•å‡ºé”™: ' + error.message, 'error');
            }
            
            // æµ‹è¯•4: ä¸‰æ‰é…ç½®
            try {
                const wuge = nameCalculator.calculateWuGe('ç‹', 'å°æ˜');
                const sanCai = nameCalculator.calculateSanCai(wuge);
                if (sanCai.tianWuXing && sanCai.renWuXing && sanCai.diWuXing) {
                    addResult('âœ… ä¸‰æ‰é…ç½®æµ‹è¯•é€šè¿‡: ' + sanCai.tianWuXing + sanCai.renWuXing + sanCai.diWuXing + ' (' + sanCai.jiXiong + ')', 'success');
                } else {
                    addResult('âŒ ä¸‰æ‰é…ç½®æµ‹è¯•å¤±è´¥: ä¸‰æ‰æ•°æ®ä¸å®Œæ•´', 'error');
                }
            } catch (error) {
                addResult('âŒ ä¸‰æ‰é…ç½®æµ‹è¯•å‡ºé”™: ' + error.message, 'error');
            }
            
            // æµ‹è¯•5: èµ·åå»ºè®®
            try {
                const mockBaziResult = {
                    dayTianGan: 'æˆŠ',
                    wuxingInfo: {
                        year: { tianGan: 'æœ¨', diZhi: 'æ°´' },
                        month: { tianGan: 'ç«', diZhi: 'ç«' },
                        day: { tianGan: 'åœŸ', diZhi: 'é‡‘' },
                        hour: { tianGan: 'æ°´', diZhi: 'åœŸ' }
                    }
                };
                
                const suggestions = nameCalculator.generateNameSuggestions('æ', 'ç”·', mockBaziResult);
                if (suggestions && suggestions.length > 0) {
                    addResult('âœ… èµ·åå»ºè®®æµ‹è¯•é€šè¿‡: ç”Ÿæˆäº†' + suggestions.length + 'ä¸ªå»ºè®®', 'success');
                    addResult('   ç¤ºä¾‹: ' + suggestions[0].fullName + ' (è¯„åˆ†:' + suggestions[0].score + ')', 'info');
                } else {
                    addResult('âŒ èµ·åå»ºè®®æµ‹è¯•å¤±è´¥: æœªç”Ÿæˆå»ºè®®', 'error');
                }
            } catch (error) {
                addResult('âŒ èµ·åå»ºè®®æµ‹è¯•å‡ºé”™: ' + error.message, 'error');
            }
            
            // æµ‹è¯•6: å§“ååˆ†æ
            try {
                const mockBaziResult = {
                    dayTianGan: 'æˆŠ',
                    wuxingInfo: {
                        year: { tianGan: 'æœ¨', diZhi: 'æ°´' },
                        month: { tianGan: 'ç«', diZhi: 'ç«' },
                        day: { tianGan: 'åœŸ', diZhi: 'é‡‘' },
                        hour: { tianGan: 'æ°´', diZhi: 'åœŸ' }
                    }
                };
                
                const analysis = nameCalculator.analyzeName('ç‹å°æ˜', mockBaziResult);
                if (analysis && analysis.score !== undefined) {
                    addResult('âœ… å§“ååˆ†ææµ‹è¯•é€šè¿‡: ç‹å°æ˜è¯„åˆ†' + analysis.score + 'åˆ†', 'success');
                } else {
                    addResult('âŒ å§“ååˆ†ææµ‹è¯•å¤±è´¥: åˆ†æç»“æœä¸å®Œæ•´', 'error');
                }
            } catch (error) {
                addResult('âŒ å§“ååˆ†ææµ‹è¯•å‡ºé”™: ' + error.message, 'error');
            }
            
            addResult('æµ‹è¯•å®Œæˆï¼', 'info');
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨è¿è¡Œæµ‹è¯•
        window.addEventListener('load', runTests);
    </script>
</body>
</html>
